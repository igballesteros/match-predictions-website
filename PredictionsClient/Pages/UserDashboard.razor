@using Microsoft.AspNetCore.Components.Authorization
@inject NavigationManager NavigationManager

<div class="user-dashboard">
    <h1>Welcome back, @username!</h1>

    <div class="prediction-section">
        <h3>Make Your Predictions</h3>
        <!-- Prediction form would go here -->
    </div>

    <div class="leaderboard-section">
        <h3>Current Leaderboard</h3>
        <!-- Leaderboard component -->
    </div>

    <div class="past-predictions">
        <h3>Your Past Predictions</h3>
        <!-- List of past predictions -->
    </div>
</div>

@code {
    private string username = string.Empty;

    [CascadingParameter]
    private Task<AuthenticationState>? authenticationStateTask { get; set; }

    protected override async Task OnInitializedAsync()
    {
        if (authenticationStateTask != null)
        {
            var authState = await authenticationStateTask;
            var user = authState.User;

            username = user.Identity?.Name ?? "User";
        }

        await base.OnInitializedAsync();
    }
}